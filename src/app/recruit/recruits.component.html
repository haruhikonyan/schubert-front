<div class="container">
  <h1>団員募集</h1>

  <div class="row">
    <div class="col-md-9">
      <h3>団員募集検索</h3>
      <div class="form-group">
        <label class="col-sm-4" for="service_vlan_resource_id">団体種別</label>
        <div class="col-sm-8">
            <ng-select
            [items]="appService.ng2selectTypes"
            (selected)="typeSelected($event)"
            placeholder="募集種別を選択してください">
          </ng-select>
        </div>
        <label class="col-sm-4" for="service_vlan_resource_id">募集楽器</label>
        <div class="col-sm-8">
          <select name="instrument_id" id="instrument_id" class="form-control chosen-select"><option value="" label=" "></option><option value="1">フルート/Fl</option>
            <option value="2">オーボエ/Ob</option>
            <option value="3">クラリネット/Cl</option>
            <option value="4">ファゴット/Fg</option>
            <option value="5">ホルン/Hr</option>
            <option value="6">トランペット/Tp</option>
            <option value="7">トロンボーン/Tb</option>
            <option value="8">チューバ/Tu</option>
            <option value="9">ヴァイオリン/Vn</option>
            <option value="10">1stヴァイオリン/1stVn</option>
            <option value="11">2stヴァイオリン/2ndVn</option>
            <option value="12">ヴィオラ/Va</option>
            <option value="13">チェロ/Vc</option>
            <option value="14">コントラバス/Cb</option>
            <option value="15">パーカッション/Perc</option>
          </select>
        </div>
        <label class="col-sm-4" for="service_vlan_resource_id">フリーワード検索</label>
        <div class="col-sm-8">
          <input type="text" name="freeword" id="freeword" value="" class="form-control" placeholder="複数キーワードには対応してません">
        </div>
      </div>
    </div>
    <div class="col-sm-offset-1 col-md-2"><br><br><br><br>
      <button type="button" class="btn btn-default btn-lg" (click)="searchBtnClickHandler()">検索</button></div>
  </div>

  <!-- TODO recruit-card.component 的なものへコンポーネント化 -->
  <div *ngFor="let recruit of filteredRecruits" class="panel panel-info">
    <!-- [TODO] publishFrom, publishTo の中に含まれる場合のみ表示する -->
    <div class="panel-heading">{{recruit.title}}</div>
    <div class="panel-body">
      <div>
        <label *ngFor="let type of recruit.team.types" class="label label-info">
          {{type.name}}
        </label>
      </div>
      <div>{{recruit.team.name}}</div>
      <div>練習場所:{{recruit.practicePlace}}</div>
      <div>練習時間:{{recruit.practiceTime}}</div>
      <div>募集楽器:
        <div *ngFor="let ic of appService.instrumentCategories">
          <span *ngFor="let instrument of filteredInsturmentsByCategory(recruit.instruments, ic); first as isFirst">
            <span *ngIf="isFirst">{{ic.name}}</span>
            <span class="badge badge-default">{{instrument.shortName}}</span>
          </span>
        </div>
      </div>
    </div>
  </div>


  {{recruits.length}}件の募集があります
  <a [routerLink]="['./new']">新しく団員募集する</a>
</div>
